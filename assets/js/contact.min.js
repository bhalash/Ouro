jQuery(function(e){"use strict"
var s={sendmessage:"#sendmessage",url:"/contact.php",unfilled:"unfilled",success:"success",output:"p.messages",messages:{initial:"Required fields are highlighted red"},inputs:{name:"input[id=name]",email:"input[id=email]",message:"textarea[id=message]",hidden:"input[id=unseen]",button:"button[id=submit]"},filled:[]}
Array.prototype.allTrue=function(){for(var e=0;e<this.length;e++)if(!this[e])return!1
return!0},e(s.sendmessage).find("input, textarea").blur(function(){e(this).prop("required")&&e(this).hasClass(s.unfilled)&&e(this).val().length>0&&e(this).removeClass(s.unfilled)}),e(s.sendmessage).submit(function(t){if(t.preventDefault(),s.filled=[],e(s.inputs.hidden).val().length>0)return!1
if(e(s.inputs.button).attr("disabled","disabled"),window.setTimeout(function(){e(s.inputs.button).removeAttr("disabled")},1e3),e(this).find("textarea, input").each(function(){e(this).prop("required")&&0===e(this).val().length?(e(this).addClass(s.unfilled),s.filled.push(!1)):(e(this).removeClass(s.unfilled),s.filled.push(!0))}),s.filled.allTrue()){var i={name:e(s.inputs.name).val(),email:e(s.inputs.email).val(),message:e(s.inputs.message).val()}
e.ajax({type:"POST",url:s.url,data:i,dataType:"json",encode:!0}).done(function(t){t.success?e(s.output).removeClass(s.unfilled).addClass(s.success):e(s.output).removeClass(s.success).addClass(s.unfilled),e(s.output).text(t.message)}).fail(function(t){e(s.output).removeClass(s.success).addClass(s.unfilled),e(s.output).text(t.message)}).always(function(){e(s.inputs.button).removeAttr("disabled")})}else e("."+s.unfilled).first().focus(),e(s.output).addClass(s.unfilled),e(s.output).text(s.messages.initial)
window.setTimeout(function(){e(s.output).removeClass(s.success).removeClass(s.unfilled),e(s.output).text(s.messages.initial)},1e4)})})
