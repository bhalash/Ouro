/*global $:false */
jQuery(document).ready(function(t){"use strict"
var n={anchor:"a.nav",dataCurrent:"is-current",current:"current-nav",menu:"nav#menu",section:"section",shadow:"nav-box-shadow",speed:100},o=function(){0===t(window).scrollTop()?t(n.menu).removeClass(n.shadow):t(n.menu).addClass(n.shadow)},r=function(o){t(n.anchor).removeClass(n.current),t(o).addClass(n.current)},a=function(o){t(n.section).data(n.dataCurrent,!1),t(o).data(n.dataCurrent,!0),r(t(menu).find("a[href^=#"+t(o).attr("id")+"]")),t("html").hasClass("touch")||(t("html").hasClass("webkit")?document.location.hash=t(o).attr("id"):history.pushState(null,null,"#"+t(o).attr("id")))},e=function(){t("section").each(function(){var o=t(n.menu).outerHeight()+20,r=t(n.menu).outerHeight()+70,e=t(this).offset().top,s=t(window).scrollTop(),c=t(this).data(n.dataCurrent)
e>=s-o&&s+r>=e&&!c&&a(this)})},s=function(){var o=t(window).height()+t("."+n.menu).height(),r=t(window).scrollTop(),a=0
a=r/o,a=0>a?0:a,a=a>1?1:a,t(n.menu).css("background-color","rgba(255,255,255,"+a+")")}
t("html").hasClass("touch")&&t(n.current).hover(function(){t(this).css("background-color","transparent")}),t(window).on("scroll",o),t(window).on("scroll",s),t("html").hasClass("mobile")?t("."+n.current).click(function(){return t("html, body").animate({scrollTop:0}),!1}):(t(window).on("scroll",e),t(n.anchor).click(function(){var o=t(this).attr("href"),s=!1,c=t(o).offset().top,i=t("nav#menu").outerHeight()
return t(window).off("scroll",e),r(this),t("html, body").animate({scrollTop:c-i},500,function(){s||(a(t(o)),s=!0,setTimeout(function(){t(window).scroll(e)},n.speed))}),!1}))})
